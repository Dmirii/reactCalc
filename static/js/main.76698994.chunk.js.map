{"version":3,"sources":["components/total/Total.js","components/history/HistoryItem.js","components/history/History.js","components/operation/Operation.js","App.js","index.js"],"names":["Total","expens","income","className","HistoryItem","id","description","amount","add","deleteTransaction","key","onClick","History","transactions","map","transaction","Operation","addTransaction","addDescription","addAmount","required","onChange","value","type","placeholder","App","props","countIncome","incomeCount","expensCount","state","forEach","item","setState","Date","toString","push","alert","event","parseFloat","target","filter","headerName","mainSection","JSON","parse","localStorage","getItem","this","addToLocalStorage","setItem","stringify","Fragment","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76698994.chunk.js","sourcesContent":["import React from 'react';\r\nconst  Total = ({ expens , income }) => (\r\n            <section className=\"total\">\r\n            <header className=\"total__header\">\r\n                <h3>Баланс</h3>\r\n                <p className=\"total__balance\">{income - expens} ₽</p>\r\n            </header>\r\n            <div className=\"total__main\">\r\n                <div className=\"total__main-item total__income\">\r\n                    <h4>Доходы</h4>\r\n                    <p className=\"total__money total__money-income\">\r\n                        +{income} ₽\r\n                    </p>\r\n                </div>\r\n                <div className=\"total__main-item total__expenses\">\r\n                    <h4>Расходы</h4>\r\n                    <p className=\"total__money total__money-expenses\">\r\n                        -{expens} ₽\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n;\r\n\r\nexport default Total;","import React from 'react';\r\n\r\nconst HistoryItem = ({ id, description ,amount ,add,deleteTransaction })=>(       \r\n    \r\n        <li key={id} className={ `history__item ${add \r\n                                             ?\"history__item-plus\"\r\n                                             :\"history__item-minus\"}`\r\n                                }> {description}\r\n            <span className=\"history__money\">{amount}₽</span>\r\n            <button onClick={()=>deleteTransaction(id)} className=\"history__delete\">x</button>\r\n        </li>\r\n);\r\n\r\nexport default HistoryItem;\r\n\r\n","import React from 'react';\r\nimport HistoryItem from './HistoryItem'\r\n\r\nconst History = ({ transactions ,deleteTransaction}) => (\r\n        <section className=\"history\">\r\n                <h3>История расходов</h3>\r\n                <ul className=\"history__list\">\r\n                {transactions.map( transaction =>  <HistoryItem \r\n                                                        deleteTransaction={deleteTransaction}\r\n                                                        key={transaction.id}  \r\n                                                        id={transaction.id}                                                      \r\n                                                        description={transaction.description}\r\n                                                        amount={transaction.amount}\r\n                                                        add={transaction.add} />)}\r\n          \r\n                </ul>\r\n            </section>\r\n          \r\n    )\r\n;\r\n\r\nexport default History;","import React from 'react';\r\n\r\nconst Operation = ({ \r\n                    addTransaction,\r\n                    addDescription,\r\n                    addAmount,\r\n                    description,\r\n                    amount,\r\n                    \r\n                  }) => (\r\n        \r\n            <section className=\"operation\">\r\n            <h3>Новая операция</h3>\r\n            <form id=\"form\">\r\n                <label>\r\n                    <input \r\n                        required=\"required\"\r\n                        onChange={addDescription}\r\n                        value={description}\r\n                        type=\"text\" \r\n                        className=\"operation__fields operation__name\"\r\n                        placeholder=\"Наименование операции\"/>\r\n                </label>\r\n                <label>\r\n                    <input \r\n                      \r\n                        required=\"required\"\r\n                        onChange={addAmount}\r\n                        value={amount}\r\n                        type=\"number\" \r\n                        className=\"operation__fields operation__amount\" \r\n                        placeholder=\"Введите сумму\"/>\r\n            \r\n                </label>\r\n                <div className=\"operation__btns\">\r\n                    <button onClick={()=>  { \r\n                            addTransaction(false);                            \r\n                            }}\r\n                            type=\"button\" \r\n                            className=\"operation__btn operation__btn-subtract\">\r\n                            РАСХОД</button>\r\n\r\n                    <button onClick={()=> addTransaction(true)}\r\n                            type=\"button\"\r\n                            className=\"operation__btn operation__btn-add\">\r\n                            ДОХОД</button>\r\n                </div>\r\n            </form>\r\n\r\n        \r\n        </section>\r\n\r\n    )\r\n  ;\r\n\r\n  export default Operation\r\n\r\n ","import React, { Component } from 'react';\nimport Total from './components/total/Total';\nimport History from './components/history/History';\nimport Operation from './components/operation/Operation';\n\n\n\nclass App extends Component  {\n\n  constructor(props){\n    super(props);\n    this.headerName = props.headerName;\n    this.mainSection = props.mainSection;\n\n    this.state={\n      transactions: JSON.parse(localStorage.getItem('calcMoney')) || [],\n      description:'',\n      amount:'',\n      income:0,\n      expens:0,\n    }; \n  }\n\n  componentWillMount(){\n    this.countIncome();\n  }\n\n  componentWillUpdate(){\n    this.addToLocalStorage();\n   // this.countIncome();\n  }\n\n  // считаем доходы и расходы\n  countIncome= () =>{\n    \n    let incomeCount =0;    \n    let expensCount =0;\n\n    this.state.transactions.forEach(item =>{\n      if(item.add){\n         incomeCount+= +item.amount;\n        }else {\n          expensCount+= +item.amount;\n        }     \n    });\n\n    this.setState({income: incomeCount});\n    this.setState({expens: expensCount});\n    //\n    // возможный варинан. считаем положительные доходы\n    // return this.state.transactions\n    //    .reduce((acc,item) => item.add ? item.amount + acc : acc,0)\n  }\n\n  // метод для занесения транзакцйи в стейт\n  addTransaction = add => {    \n\n    const transactions = [...this.state.transactions];\n    const transaction ={\n      id : `cmr${(+new Date()).toString(16)}`,\n      description : this.state.description,\n      amount : this.state.amount,\n      add : add,\n    };\n  \n\n    if(this.state.amount && this.state.description){\n       transactions.push(transaction);\n    }else{\n      alert('Заполните поля!');\n    }\n    this.setState({\n           transactions,\n           description:'',\n           amount:'',\n           },() =>{\n                  this.countIncome();\n                  // this.addToLocalStorage();\n                 });   \n  }\n\n \n\n  addAmount = event =>{ \n       this.setState({amount: parseFloat(event.target.value)}/*,() =>  console.log(this.state)*/)     \n  }\n  \n  addDescription = event =>{\n    this.setState({description: event.target.value},/*() =>  this.countIncome()*/)  \n  }\n\n  addToLocalStorage(){\n    localStorage.setItem('calcMoney', JSON.stringify(this.state.transactions))\n  }\n\n  deleteTransaction = id =>{    \n      const transactions =this.state.transactions.filter(item => item.id !== id)\n    // let index =this.state.transactions.findIndex(item => item.id === id);\n    // let transactions =[...this.state.transactions];\n    // transactions.splice(index,1);\n    this.setState({transactions:transactions},() =>{\n                  this.countIncome();\n                  // this.addToLocalStorage();\n                });    \n  }\n\n  render(){\n    \n    return ( \n      <React.Fragment>\n        <header>\n          <h1>{this.headerName}</h1>\n          <h2>{this.mainSection}  </h2>\n        </header>\n        <main>   \n        <div className=\"container\">\n        \n             <Total\n                  expens={this.state.expens}\n                  income={this.state.income}\n             />\n             <History\n                  transactions={this.state.transactions}\n                  deleteTransaction={this.deleteTransaction}\n             />\n             <Operation \n                  addTransaction={this.addTransaction}\n                  addAmount={this.addAmount}        \n                  addDescription={this.addDescription}      \n                  description={this.state.description}\n                  amount={this.state.amount}                 \n            />          \n  \n          </div> \n          </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './normalize.css';\nimport './style.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App headerName='Кошелёк' mainSection=\"Калькулятор расходов\"/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}